import{C as _}from"./Chart.e1c0c439.js";import{S as p}from"./Search.f4bc52ac.js";import{_ as f,r as d,o as r,c as a,a as t,t as s,F as n,f as v,b as k,e as l,d as g,h as y,p as C,g as b,k as w}from"./index.84a068c8.js";const x={name:"User",components:{Chart:_,Search:p},props:{poolInfo:Object},data(){return{isLoading:!1,userInfo:null,interval:null,chartKey:0,errorMessage:""}},async created(){await this.fetchData(),this.interval=setInterval(async()=>{await this.fetchData()},12e4)},unmounted(){this.interval&&clearInterval(this.interval)},methods:{async fetchData(){try{this.isLoading=!this.userInfo,this.errorMessage="";const e=await this.$api.post("/finduser",{publickey:this.$route.params.address});e.data.errorMessage?this.userInfo||(this.errorMessage=e.data.errorMessage==="Not Found User"?this.$t("user_not_found"):e.data.errorMessage):(this.userInfo=e.data,this.userInfo.awardsPaid.reverse(),this.userInfo&&JSON.stringify(this.userInfo.userRateEightHours.rawUserRateEightHours)!==JSON.stringify(e.data.userRateEightHours.rawUserRateEightHours)&&this.chartKey++),this.isLoading=!1}catch(e){this.isLoading=!1,this.userInfo||(this.errorMessage=e.message)}}},computed:{status(){const e=this.userInfo.online;return e==="online"?this.$t("online"):Number.isInteger(e)?`${this.$t("last_seen")}: ${new Date(e).toLocaleString(this.$i18n.locale)}`:e}},watch:{async $route(){await this.fetchData()}}},c=e=>(C("data-v-314cfcee"),e=e(),b(),e),I={class:"container"},M={key:0,class:"text-center"},z={class:"spinner-border text-primary"},H={class:"visually-hidden"},S={class:"text-center"},V={class:"text-center text-danger"},R={class:"mb-4 text-break"},L={class:"text-muted fs-6"},N={class:"row"},E={class:"col-12 col-sm-6 col-lg mb-3"},U={class:"alert alert-dark bg-light mb-0 h-100 px-2"},$={class:"row"},j=c(()=>t("div",{class:"col-auto pe-0"},[t("div",{class:"text-primary"},[t("svg",{style:{width:"48px",height:"48px"},viewBox:"0 0 24 24"},[t("path",{fill:"currentColor",d:"M12,16A3,3 0 0,1 9,13C9,11.88 9.61,10.9 10.5,10.39L20.21,4.77L14.68,14.35C14.18,15.33 13.17,16 12,16M12,3C13.81,3 15.5,3.5 16.97,4.32L14.87,5.53C14,5.19 13,5 12,5A8,8 0 0,0 4,13C4,15.21 4.89,17.21 6.34,18.65H6.35C6.74,19.04 6.74,19.67 6.35,20.06C5.96,20.45 5.32,20.45 4.93,20.07V20.07C3.12,18.26 2,15.76 2,13A10,10 0 0,1 12,3M22,13C22,15.76 20.88,18.26 19.07,20.07V20.07C18.68,20.45 18.05,20.45 17.66,20.06C17.27,19.67 17.27,19.04 17.66,18.65V18.65C19.11,17.2 20,15.21 20,13C20,12 19.81,11 19.46,10.1L20.67,8C21.5,9.5 22,11.18 22,13Z"})])])],-1)),D={class:"col"},B={class:"mb-1 lh-sm"},O={class:"h5 mb-0"},A={class:"col-12 col-sm-6 col-lg mb-3"},F={class:"alert alert-dark bg-light mb-0 h-100 px-2"},K={class:"row"},P=c(()=>t("div",{class:"col-auto pe-0"},[t("div",{class:"text-primary"},[t("svg",{style:{width:"48px",height:"48px"},viewBox:"0 0 24 24"},[t("path",{fill:"currentColor",d:"M7,15H9C9,16.08 10.37,17 12,17C13.63,17 15,16.08 15,15C15,13.9 13.96,13.5 11.76,12.97C9.64,12.44 7,11.78 7,9C7,7.21 8.47,5.69 10.5,5.18V3H13.5V5.18C15.53,5.69 17,7.21 17,9H15C15,7.92 13.63,7 12,7C10.37,7 9,7.92 9,9C9,10.1 10.04,10.5 12.24,11.03C14.36,11.56 17,12.22 17,15C17,16.79 15.53,18.31 13.5,18.82V21H10.5V18.82C8.47,18.31 7,16.79 7,15Z"})])])],-1)),J={class:"col"},Z={class:"mb-1 lh-sm"},T={class:"h5 mb-0"},W={key:0,class:"col-12 col-sm-6 col-lg mb-3"},q={class:"alert alert-dark bg-light mb-0 h-100 px-2"},G={class:"row"},Q=w('<div class="col-auto pe-0" data-v-314cfcee><div class="text-primary" data-v-314cfcee><svg style="width:48px;height:48px;" viewBox="0 0 256 256" data-v-314cfcee><g transform="translate(128 128) scale(0.72 0.72)" data-v-314cfcee><g transform="translate(-175.05 -175.05000000000004) scale(3.89 3.89)" data-v-314cfcee><path d="M 74.38 90 H 15.62 c -4.357 0 -7.902 -3.545 -7.902 -7.901 V 41.167 c 0 -4.357 3.545 -7.901 7.902 -7.901 h 58.76 c 4.356 0 7.901 3.544 7.901 7.901 v 40.931 C 82.281 86.455 78.736 90 74.38 90 z M 15.62 37.266 c -2.151 0 -3.902 1.75 -3.902 3.901 v 40.931 c 0 2.151 1.75 3.901 3.902 3.901 h 58.76 c 2.151 0 3.901 -1.75 3.901 -3.901 V 41.167 c 0 -2.151 -1.75 -3.901 -3.901 -3.901 H 15.62 z" style="stroke:none;stroke-width:1;stroke-dasharray:none;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;fill:currentColor;fill-rule:nonzero;opacity:1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" data-v-314cfcee></path><path d="M 80.281 70.093 H 69.375 c -4.665 0 -8.46 -3.795 -8.46 -8.46 c 0 -4.664 3.795 -8.459 8.46 -8.459 h 10.906 c 1.104 0 2 0.896 2 2 v 12.919 C 82.281 69.197 81.386 70.093 80.281 70.093 z M 69.375 57.174 c -2.459 0 -4.46 2 -4.46 4.459 s 2.001 4.46 4.46 4.46 h 8.906 v -8.919 H 69.375 z" style="stroke:none;stroke-width:1;stroke-dasharray:none;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;fill:currentColor;fill-rule:nonzero;opacity:1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" data-v-314cfcee></path><circle cx="69.545" cy="61.635" r="1.955" style="stroke:none;stroke-width:1;stroke-dasharray:none;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;fill:currentColor;fill-rule:nonzero;opacity:1;" transform="matrix(1 0 0 1 0 0) " data-v-314cfcee></circle><path d="M 35.328 21.564 c -5.945 0 -10.782 -4.837 -10.782 -10.782 S 29.383 0 35.328 0 S 46.11 4.837 46.11 10.782 S 41.273 21.564 35.328 21.564 z M 35.328 4 c -3.74 0 -6.782 3.042 -6.782 6.782 s 3.042 6.782 6.782 6.782 s 6.782 -3.042 6.782 -6.782 S 39.068 4 35.328 4 z" style="stroke:none;stroke-width:1;stroke-dasharray:none;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;fill:currentColor;fill-rule:nonzero;opacity:1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" data-v-314cfcee></path><path d="M 51.516 36.126 c -0.563 -1.329 -0.849 -2.742 -0.849 -4.199 c 0 -5.945 4.837 -10.782 10.782 -10.782 s 10.782 4.837 10.782 10.782 c 0 1.419 -0.271 2.799 -0.808 4.101 l -3.699 -1.523 c 0.336 -0.816 0.507 -1.684 0.507 -2.578 c 0 -3.74 -3.043 -6.782 -6.782 -6.782 s -6.782 3.042 -6.782 6.782 c 0 0.917 0.179 1.805 0.532 2.638 L 51.516 36.126 z" style="stroke:none;stroke-width:1;stroke-dasharray:none;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;fill:currentColor;fill-rule:nonzero;opacity:1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" data-v-314cfcee></path><path d="M 61.449 17.758 c -1.104 0 -2 -0.896 -2 -2 V 2 c 0 -1.104 0.896 -2 2 -2 s 2 0.896 2 2 v 13.758 C 63.449 16.862 62.554 17.758 61.449 17.758 z" style="stroke:none;stroke-width:1;stroke-dasharray:none;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;fill:currentColor;fill-rule:nonzero;opacity:1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" data-v-314cfcee></path><path d="M 55.154 20.346 c -1.104 0 -2 -0.896 -2 -2 v -8.223 c 0 -1.104 0.896 -2 2 -2 s 2 0.896 2 2 v 8.223 C 57.154 19.45 56.259 20.346 55.154 20.346 z" style="stroke:none;stroke-width:1;stroke-dasharray:none;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;fill:currentColor;fill-rule:nonzero;opacity:1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" data-v-314cfcee></path><path d="M 67.743 20.346 c -1.104 0 -2 -0.896 -2 -2 v -3.248 c 0 -1.104 0.896 -2 2 -2 s 2 0.896 2 2 v 3.248 C 69.743 19.45 68.848 20.346 67.743 20.346 z" style="stroke:none;stroke-width:1;stroke-dasharray:none;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;fill:currentColor;fill-rule:nonzero;opacity:1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" data-v-314cfcee></path></g></g></svg></div></div>',1),X={class:"col"},Y={class:"mb-1 lh-sm"},tt={class:"h5 mb-0"},et={class:"col-12 col-sm-6 col-lg mb-3"},st={class:"alert alert-dark bg-light mb-0 h-100 px-2"},ot={class:"row"},rt=c(()=>t("div",{class:"col-auto pe-0"},[t("div",{class:"text-primary lh-1"},[t("i",{class:"icon bi-plug",style:{"font-size":"48px"}})])],-1)),at={class:"col text-break"},it={class:"mb-1 lh-sm"},nt={class:"h5 mb-0"},lt={class:"mt-5 mb-4 h3 text-center"},ct={class:"awards"},ht={class:"table-responsive h-100"},dt={class:"table table-striped"},ut=["href"];function mt(e,_t,pt,ft,o,h){const u=d("Search"),m=d("Chart");return r(),a("main",null,[t("div",I,[o.isLoading?(r(),a("div",M,[t("div",z,[t("span",H,s(e.$t("loading"))+"... ",1)])])):o.errorMessage?(r(),a(n,{key:1},[t("h3",S,s(e.$t("input_your_address")),1),v(u,{onReload:h.fetchData},null,8,["onReload"]),t("h4",V,s(o.errorMessage),1)],64)):(r(),a(n,{key:2},[t("h5",R,[k(s(e.$t("welcome_back"))+", ",1),t("span",L,s(o.userInfo.publicAddress),1)]),t("div",N,[t("div",E,[t("div",U,[t("div",$,[j,t("div",D,[t("div",B,s(e.$t("current_hashrate")),1),t("div",O,s(o.userInfo.hashRate),1)])])])]),t("div",A,[t("div",F,[t("div",K,[P,t("div",J,[t("div",Z,s(e.$t("earnings")),1),t("div",T,s(o.userInfo.amountOfUsersMoney.ironWithAComma.toFixed(8))+" IRON ",1)])])])]),o.userInfo.averageUserEarnings?(r(),a("div",W,[t("div",q,[t("div",G,[Q,t("div",X,[t("div",Y,s(e.$t("approximate_earnings")),1),t("div",tt,s(o.userInfo.averageUserEarnings)+" IRON ",1)])])])])):l("",!0),t("div",et,[t("div",st,[t("div",ot,[rt,t("div",at,[t("div",it,s(e.$t("status")),1),t("div",nt,s(h.status),1)])])])])]),o.userInfo.userRateEightHours.rawUserRateEightHours.length?(r(),g(m,{class:"mt-5",history:o.userInfo.userRateEightHours.rawUserRateEightHours,key:o.chartKey},null,8,["history"])):l("",!0),o.userInfo.awardsPaid.length?(r(),a(n,{key:1},[t("div",lt,s(e.$t("payout_statistics")),1),t("div",ct,[t("div",ht,[t("table",dt,[t("thead",null,[t("tr",null,[t("th",null,s(e.$t("date")),1),t("th",null,s(e.$t("amount")),1),t("th",null,s(e.$t("transaction")),1)])]),t("tbody",null,[(r(!0),a(n,null,y(o.userInfo.awardsPaid,i=>(r(),a("tr",{key:i.id},[t("td",null,s(new Date(i.timestamp).toLocaleString(e.$i18n.locale)),1),t("td",null,s((i.amount/1e8).toFixed(8))+" IRON ",1),t("td",null,[t("a",{target:"_blank",href:`https://explorer.ironfish.network/transaction/${i.hash}`},s(i.hash),9,ut)])]))),128))])])])])],64)):l("",!0)],64))])])}var yt=f(x,[["render",mt],["__scopeId","data-v-314cfcee"]]);export{yt as default};
